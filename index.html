<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=7">
</head>
<body>
    <div class="container">

        <nav id="breadcrumbs" class="breadcrumbs">
            <div class="breadcrumbs-left">
                <span id="breadcrumbHome" class="breadcrumb-item">
                    <img id="breadcrumbHomeImg" src="library/library.png" alt="" class="breadcrumb-img">
                    <span>Inside Out</span>
                </span>
                <span id="breadcrumbSeparator1" class="breadcrumb-separator" style="display: none;"> : </span>
                <div id="breadcrumbAlbumContainer" class="breadcrumb-dropdown-container" style="display: none;">
                    <span id="breadcrumbAlbum" class="breadcrumb-item breadcrumb-dropdown">
                        <img id="breadcrumbAlbumImg" src="" alt="" class="breadcrumb-img">
                        <span id="breadcrumbAlbumText"></span>
                        <span class="dropdown-arrow">▼</span>
                    </span>
                    <div id="albumDropdown" class="breadcrumb-dropdown-menu">
                        <!-- Album options will be populated here -->
                    </div>
                </div>
                <span id="breadcrumbSeparator2" class="breadcrumb-separator" style="display: none;"> : </span>
                <div id="breadcrumbTrackContainer" class="breadcrumb-dropdown-container" style="display: none;">
                    <span id="breadcrumbTrack" class="breadcrumb-item breadcrumb-dropdown">
                        <img id="breadcrumbTrackImg" src="" alt="" class="breadcrumb-img">
                        <span id="breadcrumbTrackText"></span>
                        <span class="dropdown-arrow">▼</span>
                    </span>
                    <div id="trackDropdown" class="breadcrumb-dropdown-menu">
                        <!-- Track options will be populated here -->
                    </div>
                </div>
            </div>
            <div class="breadcrumbs-right">
                <div class="header-player-controls">
                    <button id="headerPrevBtn" class="header-btn" title="Previous Track">⏮</button>
                    <button id="headerPlayPauseBtn" class="header-btn header-play-btn" title="Play">▶</button>
                    <button id="headerNextBtn" class="header-btn" title="Next Track">⏭</button>
                    <button id="headerStopBtn" class="header-btn" title="Stop">⏹</button>
                    <button id="headerShuffleBtn" class="header-btn" title="Shuffle">⇄</button>
                    <button id="headerRepeatBtn" class="header-btn" title="Repeat">↻</button>
                </div>
                <div class="header-player-progress">
                    <span id="headerCurrentTime" class="header-time">0:00</span>
                    <input type="range" id="headerProgressBar" class="header-progress-bar" min="0" max="100" value="0">
                    <span id="headerDuration" class="header-time">0:00</span>
                </div>
            </div>
        </nav>

        <main class="album-view" id="mainContainer">
            <!-- Album Selection View -->
            <div class="album-selection" id="albumSelection">
                <div class="view-header-section" id="collectionHeaderSection">
                    <div class="view-header-toggle" id="collectionHeaderToggle">
                        <h2 class="view-title-inline">Inside Out</h2>
                        <p class="view-subtitle-inline">Once ignored, now explored</p>
                        <button class="header-collapse-btn" id="collectionCollapseBtn">▼</button>
                    </div>
                    <div class="view-header-content" id="collectionHeaderContent">
                        <div class="view-content-row">
                            <div class="view-image-container">
                                <img src="library/library.png" class="view-image" alt="Inside Out">
                            </div>
                            <div class="view-description">
                                <p>I have never thought of myself as especially well connected to my emotions. For much of my life, I've prioritized mental and logical thinking—engineering, structure, and problem-solving. Over time, I've come to recognize that in doing so, I left an important part of myself underdeveloped.</p>
                                <p>Music has always moved me, sometimes deeply. What I didn't recognize for many years was that this response mattered—that it could be engaged with, not just experienced.</p>
                                <p>The music I write is an attempt to approach sound and song from a different direction: not analysis, polish, or achievement, but expression. To allow myself to feel, to experiment, and to appreciate emotional release without needing to justify it. The pieces here are uneven, exploratory, and sometimes unsure—and that is intentional.</p>
                                <p>This work exists primarily for personal growth and release. It is not offered as a measure of accomplishment, but as an ongoing process of letting something out that was long held in—and learning to value that process for what it brings.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="view-content-section">
                    <div class="albums-grid" id="albumsGrid">
                        <!-- Album cards will be dynamically inserted here -->
                    </div>
                </div>
            </div>

            <!-- Album Detail View -->
            <div class="album-detail-view" id="albumDetailView" style="display: none;">
                <div class="view-header-section" id="albumHeaderSection">
                    <div class="view-header-toggle" id="albumHeaderToggle">
                        <h2 id="albumTitleInline" class="view-title-inline"></h2>
                        <p id="albumSubtitleInline" class="view-subtitle-inline"></p>
                        <button class="header-collapse-btn" id="albumCollapseBtn">▼</button>
                    </div>
                    <div class="view-header-content" id="albumHeaderContent">
                        <div class="view-content-row">
                            <div class="view-image-container">
                                <img id="albumCoverArt" class="view-image" src="" alt="Album Cover">
                            </div>
                            <div class="view-description">
                                <div id="albumDescription"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="view-content-section">
                    <div class="track-list-container">
                        <ul id="trackList" class="track-list"></ul>
                    </div>
                </div>
            </div>

            <!-- Track Detail View -->
            <div class="track-detail-view" id="trackDetailView" style="display: none;">
                <div class="view-header-section" id="trackHeaderSection">
                    <div class="view-header-toggle" id="trackHeaderToggle">
                        <h2 id="trackTitleInline" class="view-title-inline"></h2>
                        <p id="trackSubtitleInline" class="view-subtitle-inline"></p>
                        <button class="header-collapse-btn" id="trackCollapseBtn">▼</button>
                    </div>
                    <div class="view-header-content" id="trackHeaderContent">
                        <div class="view-content-row">
                            <div class="view-image-container">
                                <img id="trackCoverArt" class="view-image" src="" alt="Track Cover">
                            </div>
                            <div class="view-description">
                                <div id="trackDescription"></div>
                                <div class="track-detail-actions">
                                    <button id="trackDetailPlayBtn" class="track-action-btn track-detail-btn">▶</button>
                                    <button id="trackDetailDownloadBtn" class="track-action-btn track-detail-btn">⬇</button>
                                    <button id="trackDetailShareBtn" class="track-action-btn track-detail-btn">⬆</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="view-content-section" id="trackContentSection">
                    <div id="trackLyricsContent" class="track-lyrics-content">
                        <!-- Lyrics will be displayed here -->
                    </div>
                </div>
            </div>
        </main>
    
    <!-- Expandable Lyrics Panel -->
    <div id="lyricsPanel" class="lyrics-panel-expanded">
        <div id="lyricsContainer" class="lyrics-panel-content">
            <p class="no-lyrics">No lyrics available</p>
        </div>
    </div>

    <!-- Persistent Player Bar -->
    <div id="persistentPlayer" class="persistent-player" style="display: none;">
        <div class="persistent-player-info">
            <img id="persistentCoverArt" src="" alt="Cover" class="persistent-cover" style="display: none;">
            <div class="persistent-track-info">
                <div id="persistentTrackTitle" class="persistent-title">Ready to play</div>
                <div id="persistentArtist" class="persistent-artist">Press play to start</div>
            </div>
        </div>
        <div class="current-lyric-line-wrapper">
            <button id="persistentLyricsBtn" class="persistent-btn lyrics-expand-btn" title="Expand Lyrics">▲</button>
            <div id="currentLyricLine" class="current-lyric-line"></div>
        </div>
        <div class="persistent-player-controls">
            <button id="persistentPrevBtn" class="persistent-btn" title="Previous Track">⏮</button>
            <button id="persistentPlayPauseBtn" class="persistent-btn persistent-play-btn" title="Play">▶</button>
            <button id="persistentNextBtn" class="persistent-btn" title="Next Track">⏭</button>
            <button id="persistentStopBtn" class="persistent-btn" title="Stop">⏹</button>
            <button id="persistentShuffleBtn" class="persistent-btn" title="Shuffle">⇄</button>
            <button id="persistentRepeatBtn" class="persistent-btn" title="Repeat">↻</button>
        </div>
        <div class="persistent-player-progress">
            <span id="persistentCurrentTime" class="persistent-time">0:00</span>
            <input type="range" id="persistentProgressBar" class="persistent-progress-bar" min="0" max="100" value="0">
            <span id="persistentDuration" class="persistent-time">0:00</span>
        </div>
    </div>

    <div id="toast" class="toast"></div>
    <audio id="audioPlayer"></audio>

    <script type="module" src="dev/src/player.js"></script>
</body>
</html>
